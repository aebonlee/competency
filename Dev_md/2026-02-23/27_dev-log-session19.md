# ì„¸ì…˜ 19 ê°œë°œì¼ì§€ â€” ê²°ì œ ë‚´ì—­ ê´€ë¦¬ í˜ì´ì§€ ì‹ ê·œ ìƒì„±

**ë‚ ì§œ**: 2026-02-23
**ì„¸ì…˜**: 19
**ì‘ì—… ìœ í˜•**: ê´€ë¦¬ì í˜ì´ì§€ ì‹ ê·œ ìƒì„± (ê²°ì œ ë‚´ì—­ ì¡°íšŒ + ë§¤ì¶œ ë¶„ì„)

---

## 1. ì‘ì—… ê°œìš”

ê´€ë¦¬ì ì‚¬ì´ë“œë°” "ê²°ì œ / ì¿ í°" ê·¸ë£¹ì— ì¿ í° ê´€ë¦¬ë§Œ ì¡´ì¬í•˜ë˜ ìƒíƒœì—ì„œ, ì¹´ë“œê²°ì œÂ·ê³„ì¢Œê²°ì œ ì™„ë£Œ ë‚´ì—­ì„ ì¡°íšŒí•˜ê³  ì¼ë³„/ì›”ë³„/ë¶„ê¸°ë³„/ì—°ë„ë³„ ë§¤ì¶œì•¡ì„ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì „ìš© ê´€ë¦¬ í˜ì´ì§€ë¥¼ ì‹ ê·œ ìƒì„±.

### ì£¼ìš” ì„±ê³¼

| í•­ëª© | ë‚´ìš© |
|------|------|
| ì‹ ê·œ í˜ì´ì§€ | `PurchaseList.jsx` â€” ê²°ì œ ë‚´ì—­ ê´€ë¦¬ (395ì¤„) |
| KPI ì¹´ë“œ | ì „ì²´ ê²°ì œ ê±´ìˆ˜ / ì „ì²´ ë§¤ì¶œ / ì´ë²ˆ ë‹¬ ë§¤ì¶œ / í‰ê·  ê²°ì œ ê¸ˆì•¡ |
| ë§¤ì¶œ ì°¨íŠ¸ | ì¼ë³„(7ì¼) / ì›”ë³„(12ê°œì›”) / ë¶„ê¸°ë³„(4ë¶„ê¸°) / ì—°ë„ë³„ Bar ì°¨íŠ¸ |
| ë°ì´í„° í…Œì´ë¸” | ì„œë²„ì‚¬ì´ë“œ í˜ì´ì§€ë„¤ì´ì…˜ (20ê±´/í˜ì´ì§€) + ê²€ìƒ‰ + ìƒíƒœ í•„í„° |
| ë¼ìš°íŠ¸ ì¶”ê°€ | `/admin/purchases` |
| ì‚¬ì´ë“œë°” ë©”ë‰´ | "ê²°ì œ / ì¿ í°" ê·¸ë£¹ì— ğŸ’³ ê²°ì œ ë‚´ì—­ í•­ëª© ì¶”ê°€ |

---

## 2. ìˆ˜ì •/ìƒì„± ë‚´ì—­

### 2.1 PurchaseList.jsx (ì‹ ê·œ â€” 395ì¤„)

ê¸°ì¡´ UserList.jsx + CouponList.jsx + Dashboard.jsx íŒ¨í„´ì„ ë”°ë¦„.

#### ë°ì´í„° í˜ì¹­ ì „ëµ (ì´ì¤‘ ì¿¼ë¦¬)

| êµ¬ë¶„ | ì¿¼ë¦¬ | ìš©ë„ |
|------|------|------|
| KPI + ì°¨íŠ¸ | `purchases.select('amount, status, created_at')` | ì „ê±´ ì¡°íšŒ (1íšŒ) |
| í…Œì´ë¸” | `purchases.select('id, amount, status, payment_id, created_at, profiles:user_id (name, email)', { count: 'exact' })` | í˜ì´ì§€ë„¤ì´ì…˜ + ê²€ìƒ‰ + í•„í„° |

#### ìƒë‹¨ KPI ì¹´ë“œ (4ê°œ)

| ì¹´ë“œ | ë‚´ìš© | ìƒ‰ìƒ |
|------|------|------|
| ì „ì²´ ê²°ì œ ê±´ìˆ˜ | paid ìƒíƒœ ê±´ìˆ˜ | blue |
| ì „ì²´ ë§¤ì¶œ | paid ê¸ˆì•¡ í•©ê³„ (ì›) | green |
| ì´ë²ˆ ë‹¬ ë§¤ì¶œ | ë‹¹ì›” paid í•©ê³„ | orange |
| í‰ê·  ê²°ì œ ê¸ˆì•¡ | ì „ì²´ ë§¤ì¶œ / ê±´ìˆ˜ | red |

#### ê¸°ê°„ë³„ ë§¤ì¶œ ì°¨íŠ¸ (íƒ­ ì „í™˜ Bar ì°¨íŠ¸)

| íƒ­ | ê¸°ê°„ | ì§‘ê³„ ë°©ì‹ |
|----|------|----------|
| ì¼ë³„ | ìµœê·¼ 7ì¼ | ë‚ ì§œë³„ paid í•©ê³„ |
| ì›”ë³„ | ìµœê·¼ 12ê°œì›” | ì›”ë³„ paid í•©ê³„ |
| ë¶„ê¸°ë³„ | ìµœê·¼ 4ë¶„ê¸° | ë¶„ê¸°ë³„ paid í•©ê³„ |
| ì—°ë„ë³„ | ì „ì²´ ì—°ë„ | ì—°ë„ë³„ paid í•©ê³„ |

Chart.js `Bar` ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© (Dashboard.jsxì™€ ë™ì¼ ë“±ë¡ íŒ¨í„´).

#### íˆ´ë°”

- ê²€ìƒ‰: ì´ë¦„/ì´ë©”ì¼/ê²°ì œID (`or` í•„í„° ilike)
- ìƒíƒœ í•„í„°: ì „ì²´/ì™„ë£Œ(paid)/ëŒ€ê¸°(pending)/ì‹¤íŒ¨(failed)/í™˜ë¶ˆ(refunded)
- CSV ë‹¤ìš´ë¡œë“œ: `exportToCSV()` ìœ í‹¸ ì‚¬ìš©
- ì´ Nê±´ í‘œì‹œ

#### ê²°ì œ ë‚´ì—­ í…Œì´ë¸” (PAGE_SIZE = 20)

| ì—´ | ë‚´ìš© |
|----|------|
| ë²ˆí˜¸ | ìˆœë²ˆ (í˜ì´ì§€ ì˜¤í”„ì…‹ ë°˜ì˜) |
| ê²°ì œì¼ì‹œ | YYYY.MM.DD HH:mm |
| ì´ë¦„ | profiles.name |
| ì´ë©”ì¼ | profiles.email |
| ê¸ˆì•¡ | ì› ë‹¨ìœ„ í¬ë§· |
| ê²°ì œID | payment_id ì• 16ì... (monospace, ì—†ìœ¼ë©´ '-') |
| ìƒíƒœ | badge (paid=ì™„ë£Œ/green, pending=ëŒ€ê¸°/yellow, failed=ì‹¤íŒ¨/red, refunded=í™˜ë¶ˆ/gray) |

#### í˜ì´ì§€ë„¤ì´ì…˜

UserList.jsx `renderPagination` íŒ¨í„´ ë™ì¼ ì¬í˜„ (ìµœëŒ€ 5í˜ì´ì§€ í‘œì‹œ + ì´ë™ ë²„íŠ¼).

---

### 2.2 App.jsx (2ì¤„ ì¶”ê°€)

```jsx
const PurchaseList = lazy(() => import('./pages/admin/PurchaseList'));
<Route path="/admin/purchases" element={<PurchaseList />} />
```

---

### 2.3 AdminLayout.jsx (1ì¤„ ì¶”ê°€)

"ê²°ì œ / ì¿ í°" ê·¸ë£¹ì— ê²°ì œ ë‚´ì—­ ë©”ë‰´ í•­ëª© ì¶”ê°€:

```jsx
{ to: '/admin/purchases', label: 'ê²°ì œ ë‚´ì—­', icon: 'ğŸ’³' },
```

---

## 3. ë¹Œë“œ ê²°ê³¼

```
vite v7.3.1 â€” 157 modules transformed
PurchaseList-Ca32JmsJ.js:  9.63 KB (gzip: 3.52 KB)
index-DtyxF-87.js:       529.06 KB (gzip: 168.67 KB)
âœ“ built in 9.53s
```

---

## 4. ìˆ˜ì • íŒŒì¼ ìš”ì•½

| # | íŒŒì¼ | ì‘ì—… | ë³€ê²½ ë‚´ìš© | ê·œëª¨ |
|---|------|------|----------|------|
| 1 | src/pages/admin/PurchaseList.jsx | **ì‹ ê·œ** | ê²°ì œ ë‚´ì—­ ê´€ë¦¬ í˜ì´ì§€ (KPI+ì°¨íŠ¸+í…Œì´ë¸”) | +395ì¤„ |
| 2 | src/App.jsx | ìˆ˜ì • | lazy import + route ì¶”ê°€ | +2ì¤„ |
| 3 | src/components/layout/AdminLayout.jsx | ìˆ˜ì • | ì‚¬ì´ë“œë°” ë©”ë‰´ í•­ëª© ì¶”ê°€ | +1ì¤„ |
| **í•©ê³„** | **3 files** | 1ì‹ ê·œ+2ìˆ˜ì • | | **+398ì¤„** |

---

*ì‘ì„±: Claude Code â€” ì„¸ì…˜ 19*
*í”„ë¡œì íŠ¸: D:\competency*
